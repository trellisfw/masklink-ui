{"version":3,"sources":["overmind/state.ts","overmind/actions.ts","overmind/oada/state.ts","overmind/oada/actions.ts","overmind/oada/onInitialize.ts","overmind/oada/websocket.js","overmind/oada/effects.ts","overmind/urls/actions.ts","overmind/urls/index.ts","overmind/urls/state.ts","overmind/view/state.ts","overmind/view/actions.ts","overmind/login/state.ts","overmind/login/actions.ts","overmind/index.ts","overmind/onInitialize.ts","view/TopBar/index.tsx","view/Pages/Data/TopBar.js","view/Pages/Data/icons/TargetIcon/index.js","view/OADAMask.tsx","view/Pages/Data/Table.js","view/Pages/Data/Dropzone.js","view/Modals/FileDetailsModal/Audit.js","view/Modals/FileDetailsModal/MaskedAudit.js","view/Modals/FileDetailsModal/CoI.js","view/Modals/FileDetailsModal/Content.tsx","view/Pages/Data/index.js","view/Pages/index.js","view/Modals/PDFViewerModal/index.js","Login/index.tsx","view/Modals/ValidityModal.tsx","App.tsx","serviceWorker.js","index.tsx","config/dev-cert/signed_software_statement.js","config/dev-cert/unsigned_software_statement.js","view/Pages/Data/icons/UploadIcon/upload.svg","view/Pages/Data/icons/ProcessingIcon/processing.svg","view/Pages/Data/icons/SignedIcon/signed.svg","view/Pages/Data/icons/TargetIcon/target_logo.png","../public/skins sync /^/.//.*//config$","../public/skins/default/config.js"],"names":["Validity","maskstr","parse","window","location","search","mask","JSON","Array","isArray","state","count","original","vdoc","hash","hashJSON","valid","hashinfo","Unknown","skin","skins","map","require","reduce","o","n","Object","assign","fetchLink","url","a","async","actions","axios","get","data","oada","increaseCount","test","console","log","decreaseCount","skinChange","newSkin","localStorage","token","documents","devcert","signed","redirect","unsigned","redirect_uris","getAccessToken","Promise","promisify","oadaIdClient","lsKey","logout","effects","websocket","close","login","try","replace","metadata","scope","then","res","access_token","catch","err","error","connect","result","doesResourceExist","exists","createAndPutResource","contentType","watch","actionName","response","docKeys","_","filter","keys","key","startsWith","loadDocument","concurrency","uploadFile","file","request","method","baseURL","headers","Authorization","type","id","split","length","put","filename","name","createAndPostResource","pdf","_id","_rev","onDocumentsChange","documentId","forEach","orgData","merge","Error","orgMeta","_meta","pick","audits","auditKey","orgAudit","cois","coiKey","orgCoi","createResource","post","createAndPostResourceHTTP","createResourceHTTP","postHTTP","head","status","http","cb","action","onInitialize","urlLib","uuid","socket","messages","connected","httpCallbacks","watchCallbacks","sendMessages","message","send","stringify","resolve","reject","WebSocket","onopen","event","onclose","onmessage","requestId","statusText","originalStack","requestStack","callback","urlObj","toLowerCase","path","entries","value","b","push","unwatch","config","warnings","myWebsocket","_websocket","ws","urls","_actions","Modals","FileDetailsModal","open","documentKey","showData","audit","coi","PDFViewerModal","ValidityModal","Pages","Data","uploading","TopBar","viewPDF","view","toggleShowData","Dropzone","filesDropped","files","domain","loggedIn","loading","match","me","username","domainChange","URL","host","docs","some","namespaced","createHook","overmind","css","src","logo","alt","marginRight","Dropdown","text","undefined","Menu","Item","icon","onClick","processingIcon","OADAMask","masked","link","style","color","Valid","href","Invalid","Table","props","myActions","onDrop","useCallback","acceptedFiles","useDropzone","noClick","getRootProps","getInputProps","isDragActive","flex","display","children","Audit","validity","certificate_validity_period","start","end","moment","isValid","now","expired","isAfter","isBefore","org","organization","r","rowstyles","backgroundColor","labelstyle","fontWeight","padding","contentstyle","fontSize","align","score","final","rating","trim","products_observed","p","idx","border","borderRadius","paddingLeft","paddingRight","marginLeft","format","orig","CoI","holder","policies","effective_date","expire_date","number","Content","myState","jsonData","jsonTitle","isEmpty","cloneDeep","_type","MaskedAudit","collapsed","collapseStringsAfterLength","displayDataTypes","displayObjectSize","enableClipboard","paddingTop","minHeight","justifyContent","Modal","onClose","httpHeaders","onLoadSuccess","numPages","className","pageNumber","Login","appState","bg","loginBackground","height","marginBottom","Form","onSubmit","Input","placeholder","onChange","Button","marginTop","primary","disabled","inverted","size","s","i","ValidityIcon","VerifiedUserIcon","HighlightOffIcon","Header","App","Boolean","hostname","app","createOvermind","devtools","ReactDOM","render","document","getElementById","navigator","serviceWorker","ready","registration","unregister","module","exports","token_endpoint_auth_method","grant_types","response_types","client_name","client_uri","contacts","jwks","kty","e","kid","webpackContext","req","webpackContextResolve","__webpack_require__","code"],"mappings":"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","file":"static/js/main.7e7237ff.chunk.js","sourcesContent":["import { Derive } from 'overmind'\nimport { parse } from 'query-string'\n\nimport { hashJSON } from '@trellisfw/signatures'\n\n// \"trellis-mask\" type\nexport type Mask = {\n  version: '1.0'\n  hashinfo: { alg: 'SHA256'; hash: string }\n  // URL\n  original: string\n}\n\n// Parse query parameters\nconst { 'trellis-mask': maskstr } = parse(window.location.search)\nconst mask: Mask = JSON.parse(\n  (Array.isArray(maskstr) ? maskstr[0] : maskstr) || '{}'\n)\n\nexport enum Validity {\n  Invalid = 0,\n  Valid = 1,\n  Unknown = 'unknown'\n}\n\nexport type Skin = {\n  loginBackground: string\n  logo: {\n    src: string\n    height: number\n  }\n}\n\n// TODO: How to describe oada resources??\ntype OADADoc = {\n  [key: string]: string | number | OADADoc | OADADoc[]\n}\n\nexport type State = {\n  count: number\n  mask: Mask\n  original: OADADoc | null\n  vdoc: OADADoc | null\n  hash: Derive<State, string | null>\n  valid: Derive<State, Validity>\n  skin: string\n  skins: {\n    [key: string]: Skin\n  }\n}\n\nconst skins = ['default']\n  .map(skin => ({\n    [skin]: require(`../../public/skins/${skin}/config`)\n  }))\n  .reduce((o, n) => Object.assign(o, n))\n\nexport const state: State = {\n  count: 0,\n  mask,\n  original: null,\n  vdoc: null,\n  hash: state => state.original && hashJSON(state.original).hash,\n  valid: state =>\n    state.original\n      ? +(state.hash === state.mask.hashinfo.hash)\n      : Validity.Unknown,\n  skin: 'default',\n  skins\n}\n","import { Action, AsyncAction } from 'overmind'\n\nimport axios from 'axios'\n\nexport const fetchLink: AsyncAction<string> = async (\n  { state, actions },\n  url: string\n) => {\n  let data\n  try {\n    ;({ data } = await axios.get(url))\n  } catch {\n    try {\n      ;({ data } = await actions.oada.get(url))\n    } catch {\n      state.original = null\n    }\n  }\n  state.original = data\n}\n\nexport const increaseCount: Action = ({ state }, test) => {\n  console.log('test', test)\n  state.count++\n}\nexport const decreaseCount: Action = ({ state }) => {\n  state.count--\n}\n\nexport const skinChange: Action<string> = ({ state }, newSkin) => {\n  state.skin = newSkin\n  // Save this to localStorage to keep for next time:\n  window.localStorage['skin'] = newSkin\n}\n","import signed from '../../config/dev-cert/signed_software_statement.js'\nimport unsigned from '../../config/dev-cert/unsigned_software_statement.js'\n\nexport type State = {\n  token: string\n  data: {\n    documents: { [key: string]: any }\n  }\n  url: string\n  devcert: string\n  redirect: string\n}\n\nexport const state: State = {\n  token: '',\n  data: {\n    documents: {}\n  },\n  url: 'https://localhost',\n  devcert: signed, // Don't use this public one in production unless implicit flow is OK for you\n  redirect:\n    unsigned.redirect_uris[process.env.NODE_ENV === 'production' ? 1 : 0] // 0 is localhost:3000, 1 is trellisfw.github.io/conductor\n}\n","import { AsyncAction } from 'overmind'\n\nimport _ from 'lodash'\nimport Promise from 'bluebird'\nimport request from 'axios'\nimport {\n  OADARequestConfig,\n  browser as oadaIdClient,\n  OADAResponse\n} from '@oada/oada-id-client/index'\n\nconst getAccessToken = Promise.promisify(oadaIdClient.getAccessToken)\n\nconst lsKey: (url: string) => string = url => 'oada:' + url + ':token' // handy function to make a useful localStorage key\n\nexport const logout: AsyncAction = async ({ state, effects }) => {\n  await effects.oada.websocket.close()\n  //Clear documents\n  state.oada.data.documents = {}\n  delete window.localStorage[lsKey(state.oada.url)]\n}\n\nexport const login: AsyncAction<void, any> = async ({ state, actions }) => {\n  /*\n      Connect to my OADA instance\n    */\n  return Promise.try(() => {\n    if (window.localStorage[lsKey(state.oada.url)]) {\n      console.log(\n        'Already have a token for URL ' + state.oada.url + ', logout to clear'\n      )\n      return window.localStorage[lsKey(state.oada.url)]\n    }\n    // If we don't have a token stored from last time, we'll need to\n    // redirect browser to ask for one\n    console.log('Do not have an access token, redirecting...')\n    return getAccessToken(state.oada.url.replace(/^https?:\\/\\//, ''), {\n      metadata: state.oada.devcert,\n      scope: 'all:all',\n      redirect: state.oada.redirect\n    })\n      .then(res => res.access_token)\n      .catch(err => {\n        state.login.error =\n          'Failed to redirect to ' + state.oada.url + ' for connection'\n        console.log('FAILED TO GET ACCESS TOKEN: err = ', err)\n        return false\n      })\n\n    // Have a token now, make sure it's saved to localStorage until we logout:\n  })\n    .then(token => {\n      if (token) window.localStorage[lsKey(state.oada.url)] = token\n      state.oada.token = token\n      console.log('Have token, connecting to oada...')\n      return actions.oada.connect()\n    })\n    .then(result => {\n      console.log('Websocket connected, checking resources...')\n      //Create /trellisfw if it does not exist\n      return actions.oada\n        .doesResourceExist('/bookmarks/trellisfw')\n        .then(exists => {\n          if (!exists) {\n            console.log('/bookmarks/trellisfw does not exist.  Creating...')\n            //Create /trellisfw\n            return actions.oada.createAndPutResource({\n              url: '/bookmarks/trellisfw',\n              data: {}\n            })\n          }\n        })\n        .then(() => {\n          //Create /trellisfw/documents if it does not exist\n          return actions.oada\n            .doesResourceExist('/bookmarks/trellisfw/documents')\n            .then(exists => {\n              if (!exists) {\n                //Create documents\n                return actions.oada.createAndPutResource({\n                  url: '/bookmarks/trellisfw/documents',\n                  data: {},\n                  contentType: 'application/vnd.trellisfw.documents.1+json'\n                })\n              }\n            })\n        })\n    })\n    .then(() => {\n      console.log('Setting watches...')\n      //Watch for changes to /trellisfw/documents\n      return actions.oada\n        .watch({\n          url: '/bookmarks/trellisfw/documents',\n          actionName: 'oada.onDocumentsChange'\n        })\n        .then(() => {\n          //Get all the documents ids in /trellisfw/documents\n          return actions.oada\n            .get('/bookmarks/trellisfw/documents')\n            .then(response => {\n              let docKeys = _.filter(\n                Object.keys(response.data),\n                key => _.startsWith(key, '_') === false\n              )\n              //Load each of the documents\n              return Promise.map(\n                docKeys,\n                key => {\n                  //Load the documents\n                  return actions.oada.loadDocument(key)\n                },\n                { concurrency: 5 }\n              )\n            })\n        })\n    })\n}\n\nexport const uploadFile: AsyncAction<File> = async (\n  { state, actions },\n  file\n) => {\n  //Add file to the file list, flag it as `uploading`\n  //Create the pdf\n  return request\n    .request({\n      url: '/resources',\n      method: 'post',\n      baseURL: state.oada.url,\n      headers: {\n        Authorization: 'Bearer ' + state.oada.token,\n        'Content-Disposition': 'inline',\n        'Content-Type': file.type\n      },\n      data: file\n    })\n    .then(response => {\n      //Pull out location of pdf and link it to the document under the 'pdf' key\n      var id = response.headers['content-location'].split('/')\n      id = id[id.length - 1]\n      //Add filename info to the pdf\n      return actions.oada\n        .put({\n          url: `/resources/${id}/_meta`,\n          data: {\n            filename: file.name\n          },\n          headers: {\n            'Content-Type': 'application/json'\n          }\n        })\n        .then(() => {\n          //Create a document with a `pdf` key linking the pdf, and link the document to `documents`\n          return actions.oada.createAndPostResource({\n            url: '/bookmarks/trellisfw/documents',\n            data: {\n              pdf: {\n                _id: 'resources/' + id,\n                _rev: 0\n              }\n            }\n          })\n        })\n    })\n}\n\nexport const onDocumentsChange: AsyncAction<OADAResponse, any> = async (\n  { state, actions },\n  response\n) => {\n  //If a key was added or changed reload that document\n  console.log('onDocumentsChange', response)\n  //Check if change was a merge\n  if (_.get(response, 'change.type') === 'merge') {\n    //Get all the keys that do not start with _\n    let keys = _.filter(\n      Object.keys(_.get(response, 'change.body')),\n      key => _.startsWith(key, '_') === false\n    )\n    //If these keys are links, then load them as documents\n    return Promise.map(keys, documentId => {\n      return actions.oada.loadDocument(documentId)\n    })\n  } else if (_.get(response, 'change.type') === 'delete') {\n    //Get all the keys that do not start with _\n    let keys = _.filter(\n      Object.keys(_.get(response, 'change.body')),\n      key => _.startsWith(key, '_') === false\n    )\n    //If these keys are links, then load them as documents\n    _.forEach(keys, key => {\n      delete state.oada.data.documents[key]\n    })\n  }\n}\n\nexport const loadDocument: AsyncAction<string, object | void> = async (\n  { state, actions },\n  documentId\n) => {\n  return actions.oada\n    .get('/bookmarks/trellisfw/documents/' + documentId)\n    .then(response => {\n      //If doc already exists merge in data\n      const orgData = state.oada.data.documents[documentId] || {}\n      state.oada.data.documents[documentId] = _.merge(\n        {},\n        orgData,\n        response.data\n      )\n      //Load the _meta for this document\n      return actions.oada\n        .get(`/bookmarks/trellisfw/documents/${documentId}/_meta`)\n        .then(response => {\n          if (response === null) throw Error('No data')\n          const orgMeta = state.oada.data.documents[documentId]._meta\n          //Merge in status and services\n          state.oada.data.documents[documentId]._meta = _.merge(\n            {},\n            orgMeta,\n            _.pick(response.data, ['stats', 'services'])\n          )\n        })\n        .catch(err => {\n          console.log('Error. Failed to load document _meta', documentId)\n        })\n        .then(() => {\n          //Load the meta for the pdf of this doc\n          if (state.oada.data.documents[documentId].pdf != null) {\n            return actions.oada\n              .get(`/bookmarks/trellisfw/documents/${documentId}/pdf/_meta`)\n              .then(response => {\n                if (response === null) throw Error('No data')\n                const orgMeta =\n                  state.oada.data.documents[documentId].pdf._meta || {}\n                state.oada.data.documents[documentId].pdf._meta = _.merge(\n                  {},\n                  orgMeta,\n                  _.pick(response.data, ['filename'])\n                )\n              })\n              .catch(err => {\n                console.log('Error. Failed to load pdf _meta', documentId)\n              })\n          }\n        })\n        .then(() => {\n          //Load the audit info for this document if it exists\n          if (state.oada.data.documents[documentId].audits != null) {\n            return Promise.map(\n              _.keys(state.oada.data.documents[documentId].audits),\n              auditKey => {\n                return actions.oada\n                  .get(\n                    `/bookmarks/trellisfw/documents/${documentId}/audits/${auditKey}`\n                  )\n                  .then(response => {\n                    if (response === null) throw Error('No data')\n                    const orgAudit =\n                      state.oada.data.documents[documentId].audits[auditKey] ||\n                      {}\n                    state.oada.data.documents[documentId].audits[\n                      auditKey\n                    ] = _.merge({}, orgAudit, response.data)\n                  })\n                  .catch(err => {\n                    console.log(\n                      'Error. Failed to load audit ',\n                      auditKey,\n                      'from doc',\n                      documentId\n                    )\n                  })\n              }\n            )\n          }\n        })\n        .then(() => {\n          //Load the masked audit info for this document if it exists\n          if (state.oada.data.documents[documentId]['audits-masked'] != null) {\n            return Promise.map(\n              _.keys(state.oada.data.documents[documentId]['audits-masked']),\n              auditKey => {\n                return actions.oada\n                  .get(\n                    `/bookmarks/trellisfw/documents/${documentId}/audits-masked/${auditKey}`\n                  )\n                  .then(response => {\n                    if (response === null) throw Error('No data')\n                    const orgAudit =\n                      state.oada.data.documents[documentId]['audits-masked'][\n                        auditKey\n                      ] || {}\n                    state.oada.data.documents[documentId]['audits-masked'][\n                      auditKey\n                    ] = _.merge({}, orgAudit, response.data)\n                  })\n                  .catch(err => {\n                    console.log(\n                      'Error. Failed to load audit ',\n                      auditKey,\n                      'from doc',\n                      documentId\n                    )\n                  })\n              }\n            )\n          }\n        })\n        .then(() => {\n          //Load the cois info for this document if it exists\n          if (state.oada.data.documents[documentId].cois != null) {\n            return Promise.map(\n              _.keys(state.oada.data.documents[documentId].cois),\n              coiKey => {\n                return actions.oada\n                  .get(\n                    `/bookmarks/trellisfw/documents/${documentId}/cois/${coiKey}`\n                  )\n                  .then(response => {\n                    if (response === null) throw Error('No data')\n                    const orgCoi =\n                      state.oada.data.documents[documentId].cois[coiKey] || {}\n                    state.oada.data.documents[documentId].cois[\n                      coiKey\n                    ] = _.merge({}, orgCoi, response.data)\n                  })\n                  .catch(err => {\n                    console.log(\n                      'Error. Failed to load coi ',\n                      coiKey,\n                      'from doc',\n                      documentId\n                    )\n                  })\n              }\n            )\n          }\n        })\n    })\n    .catch(err => {\n      console.log('Error. Failed to load document', documentId, err)\n    })\n}\n\nexport const createAndPostResource: AsyncAction<OADARequestConfig> = async (\n  { actions },\n  { url, data, contentType }\n) => {\n  return actions.oada.createResource({ data, contentType }).then(response => {\n    //Link this new resource at the url provided\n    var id = response.headers['content-location'].split('/')\n    id = id[id.length - 1]\n    return actions.oada\n      .post({\n        url: url,\n        headers: {\n          'Content-Type': contentType || 'application/json'\n        },\n        data: {\n          _id: 'resources/' + id,\n          _rev: 0\n        }\n      })\n      .then(response => {\n        var id = response.headers['content-location'].split('/')\n        id = id[id.length - 1]\n        return id\n      })\n  })\n}\n\nexport const createAndPostResourceHTTP: AsyncAction<OADARequestConfig> = async (\n  { actions },\n  { url, data, contentType }\n) => {\n  return actions.oada\n    .createResourceHTTP({ data, contentType })\n    .then(response => {\n      //Link this new resource at the url provided\n      var id = response.headers['content-location'].split('/')\n      id = id[id.length - 1]\n      return actions.oada\n        .postHTTP({\n          url: url,\n          headers: {\n            'Content-Type': contentType || 'application/json'\n          },\n          data: {\n            _id: 'resources/' + id,\n            _rev: 0\n          }\n        })\n        .then(response => {\n          var id = response.headers['content-location'].split('/')\n          id = id[id.length - 1]\n          return id\n        })\n    })\n}\n\nexport const createAndPutResource: AsyncAction<OADARequestConfig> = async (\n  { actions },\n  { url, data, contentType }\n) => {\n  return actions.oada.createResource({ data, contentType }).then(response => {\n    //Link this new resource at the url provided\n    var id = response.headers['content-location'].split('/')\n    id = id[id.length - 1]\n    return actions.oada.put({\n      url,\n      headers: {\n        'Content-Type': contentType || 'application/json'\n      },\n      data: {\n        _id: 'resources/' + id,\n        _rev: 0\n      }\n    })\n  })\n}\n\nexport const createResource: AsyncAction<\n  OADARequestConfig,\n  OADAResponse\n> = async ({ actions }, { data, contentType }) => {\n  var headers: { [key: string]: string } = {}\n  headers['content-type'] = contentType || 'application/json'\n  return actions.oada.post({ url: '/resources', data, headers })\n}\n\nexport const createResourceHTTP: AsyncAction<\n  OADARequestConfig,\n  OADAResponse\n> = async ({ actions }, { data, contentType }) => {\n  var headers: { [key: string]: string } = {}\n  headers['content-type'] = contentType || 'application/json'\n  return actions.oada.postHTTP({ url: '/resources', data, headers })\n}\n\nexport const doesResourceExist: AsyncAction<string, boolean> = async (\n  { actions },\n  url\n) => {\n  return actions.oada\n    .head(url)\n    .then(response => {\n      if (response != null) return true\n      return false\n    })\n    .catch(error => {\n      if (error.response && error.response.status === 404) return false\n      throw error\n    })\n}\nexport const connect: AsyncAction = async ({ state, effects }) => {\n  return effects.oada.websocket.connect(state.oada.url)\n}\n\nexport const get: AsyncAction<string, OADAResponse> = async (\n  { effects, state },\n  url\n) => {\n  return effects.oada.websocket.http({\n    method: 'GET',\n    url: url,\n    headers: {\n      Authorization: 'Bearer ' + state.oada.token\n    }\n  })\n}\n\nexport const head: AsyncAction<string, OADAResponse> = async (\n  { effects, state },\n  url\n) => {\n  return effects.oada.websocket.http({\n    method: 'HEAD',\n    url: url,\n    headers: {\n      Authorization: 'Bearer ' + state.oada.token\n    }\n  })\n}\n\nexport const post: AsyncAction<OADARequestConfig, OADAResponse> = async (\n  { effects, state },\n  { url, headers, data }\n) => {\n  console.log('Posting to url ', url)\n  return effects.oada.websocket.http({\n    method: 'POST',\n    url: url,\n    headers: _.merge(\n      {\n        Authorization: 'Bearer ' + state.oada.token\n      },\n      headers\n    ),\n    data: data\n  })\n}\n\nexport const postHTTP: AsyncAction<OADARequestConfig, OADAResponse> = async (\n  { state },\n  { url, headers, data }\n) => {\n  return request.request({\n    url: url,\n    method: 'post',\n    baseURL: state.oada.url,\n    headers: _.merge(\n      {\n        Authorization: 'Bearer ' + state.oada.token\n      },\n      headers\n    ),\n    data: data\n  })\n}\n\nexport const put: AsyncAction<OADARequestConfig> = async (\n  { effects, state },\n  { url, headers, data }\n) => {\n  return effects.oada.websocket.http({\n    method: 'PUT',\n    url: url,\n    headers: _.merge(\n      {\n        Authorization: 'Bearer ' + state.oada.token\n      },\n      headers\n    ),\n    data: data\n  })\n}\n\nexport const watch: AsyncAction<{ url: string; actionName: string }> = async (\n  { effects, actions, state },\n  { url, actionName }\n) => {\n  var cb = function callback (data: any) {\n    var action = _.get(actions, actionName)\n    action(data)\n  }\n  return effects.oada.websocket.watch(\n    {\n      url,\n      headers: { Authorization: 'Bearer ' + state.oada.token }\n    },\n    cb\n  )\n}\n","import { OnInitialize } from 'overmind'\n\nexport const onInitialize: OnInitialize = async ({ state }) => {\n  // Populate domain from localStorage if there is a saved one:\n  if (window.localStorage['oada:domain']) {\n    console.log('Have saved domain in localStorage, using it')\n    state.oada.url = window.localStorage['oada:domain']\n  }\n}\n","const Promise = require('bluebird')\nconst urlLib = require('url')\nconst uuid = require('uuid/v4')\nPromise.config({ warnings: false })\n\nexport default function websocket (url) {\n  //Create the message queue\n  var messages = []\n  //Create the socket\n  url = url.replace('https://', 'wss://').replace('http://', 'ws://')\n  console.log('Creating WebSocket for', url)\n  var socket\n  var connected = false\n  var httpCallbacks = {}\n  var watchCallbacks = {}\n\n  function sendMessages () {\n    if (!connected) return\n    messages.forEach(message => {\n      socket.send(JSON.stringify(message))\n    })\n    messages = []\n  }\n  return new Promise((resolve, reject) => {\n    console.log('Calling WebSocket(url)')\n    socket = new WebSocket(url)\n    socket.onopen = function (event) {\n      console.log('We are connected via websocket')\n      connected = true\n      sendMessages()\n      resolve(socket)\n    }\n    socket.onclose = function (event) {\n      console.log('Websocket closed.')\n    }\n    socket.onmessage = function (event) {\n      var response = JSON.parse(event.data)\n      //Look for id in httpCallbacks\n      if (response.requestId) {\n        if (httpCallbacks[response.requestId]) {\n          //Resolve Promise\n          if (response.status >= 200 && response.status < 300) {\n            httpCallbacks[response.requestId].resolve(response)\n          } else {\n            //Create error like axios\n            let err = new Error(\n              'Request failed with status code ' + response.status\n            )\n            err.request = httpCallbacks[response.requestId].request\n            err.response = {\n              status: response.status,\n              statusText: response.statusText,\n              headers: response.headers,\n              data: response.data\n            }\n            err.originalStack =\n              httpCallbacks[response.requestId].request.requestStack\n            httpCallbacks[response.requestId].reject(err)\n          }\n          delete httpCallbacks[response.requestId]\n        } else if (watchCallbacks[response.requestId]) {\n          if (watchCallbacks[response.requestId].resolve) {\n            if (response.status === 'success') {\n              //Successfully setup websocket, resolve promise\n              watchCallbacks[response.requestId].resolve(response)\n            } else {\n              //error(watchCallbacks[response.requestId].request, response);\n              let err = new Error(\n                'Request failed with status code ' + response.status\n              )\n              err.response = response\n              err.request = watchCallbacks[response.requestId].request\n              watchCallbacks[response.requestId].reject(err)\n            }\n            //Remove resolve and reject so we process change as a signal next time\n            delete watchCallbacks[response.requestId]['resolve']\n            delete watchCallbacks[response.requestId]['reject']\n          } else {\n            if (watchCallbacks[response.requestId].callback === null)\n              throw new Error(\n                'The given watch function has an undefined callback:',\n                watchCallbacks[response.requestId]\n              )\n            watchCallbacks[response.requestId].callback(response)\n          }\n        }\n      }\n    }\n  }).then(() => {\n    console.log('Returning websocket obj')\n    function _http (request) {\n      //Do a HTTP request\n      return new Promise((resolve, reject) => {\n        let urlObj = urlLib.parse(request.url)\n        let message = {\n          requestId: uuid(),\n          method: request.method.toLowerCase(),\n          path: urlObj.path,\n          data: request.data,\n          headers: Object.entries(request.headers)\n            .map(([key, value]) => {\n              return { [key.toLowerCase()]: value }\n            })\n            .reduce((a, b) => {\n              return { ...a, ...b }\n            })\n        }\n        messages.push(message)\n        httpCallbacks[message.requestId] = {\n          request: request,\n          resolve: resolve,\n          reject: reject\n        }\n        sendMessages()\n      })\n    }\n\n    function _unwatch (request, callback) {\n      //Unwatch for changes on requested resource and trigger provided signal\n      let urlObj = urlLib.parse(request.url)\n      return new Promise((resolve, reject) => {\n        let message = {\n          requestId: uuid(),\n          method: 'unwatch',\n          path: urlObj.path,\n          headers: Object.entries(request.headers)\n            .map(([key, value]) => {\n              return { [key.toLowerCase()]: value }\n            })\n            .reduce((a, b) => {\n              return { ...a, ...b }\n            })\n        }\n        messages.push(message)\n        watchCallbacks[message.requestId] = {\n          request,\n          resolve,\n          reject,\n          callback\n        }\n        sendMessages()\n      })\n    }\n\n    function _watch (request, callback) {\n      //Watch for changes on requested resource and trigger provided signal\n      let urlObj = urlLib.parse(request.url)\n      return new Promise((resolve, reject) => {\n        let message = {\n          requestId: uuid(),\n          method: 'watch',\n          path: urlObj.path,\n          headers: Object.entries(request.headers)\n            .map(([key, value]) => {\n              return { [key.toLowerCase()]: value }\n            })\n            .reduce((a, b) => {\n              return { ...a, ...b }\n            })\n        }\n        messages.push(message)\n        watchCallbacks[message.requestId] = {\n          request,\n          resolve,\n          reject,\n          callback\n        }\n        sendMessages()\n      })\n    }\n\n    function _close () {\n      //TODO reject all callbacks that have not resolved\n      //Clear everything\n      messages = []\n      httpCallbacks = {}\n      watchCallbacks = {}\n      //Close socket\n      socket.close()\n    }\n\n    return {\n      url,\n      http: _http,\n      close: _close,\n      watch: _watch,\n      unwatch: _unwatch\n    }\n  })\n}\n","import _websocket from './websocket'\nimport { AxiosRequestConfig } from 'axios'\nvar myWebsocket: any = null\n\nexport const websocket = {\n  connect: async (url: string): Promise<void> => {\n    //Connect to OADA with this url\n    const ws = await _websocket(url)\n    myWebsocket = ws\n  },\n  watch (request: AxiosRequestConfig, callback: (arg: any) => any) {\n    return myWebsocket?.watch(request, callback)\n  },\n  http (request: AxiosRequestConfig) {\n    return myWebsocket.http(request).catch((err: any) => {\n      if (err.response && err.response.status) {\n        if (err.response.status === 404) {\n          console.log('HTTP 404', err?.response?.headers?.['content-location'])\n        } else if (err.response.status === 403) {\n          console.log('HTTP 403', err?.response?.headers?.['content-location'])\n        } else {\n          console.log('HTTP Error: ', err)\n        }\n      } else {\n        console.log('HTTP Error', err)\n      }\n    })\n  },\n  close () {\n    if (myWebsocket) {\n      console.log('Closing web socket...')\n      return myWebsocket.close()\n    }\n    console.log('WARNING: tried to close a null websocket!')\n  }\n}\n","import { AsyncAction } from 'overmind'\n\nimport axios from 'axios'\n\nexport const get: AsyncAction<string> = async (\n  { state, actions },\n  url: string\n) => {\n  let data\n  try {\n    ;({ data } = await axios.get(url))\n  } catch {\n    try {\n      ;({ data } = await actions.oada.get(url))\n    } catch {}\n  }\n  state.urls[url] = data\n}\n","import { state as _state } from './state'\nimport * as _actions from './actions'\n\nexport const state = _state\nexport const actions = _actions\n","type State = {\n  [key: string]: object\n}\n\nexport const state: State = {}\n","import { Derive } from 'overmind'\n\ntype State = {\n  Modals: {\n    ValidityModal: {\n      open: boolean\n    }\n    FileDetailsModal: {\n      open: boolean\n      documentKey: string | null\n      showData: boolean\n      audit: Derive<State['Modals']['FileDetailsModal'], {}>\n      'audit-masked': Derive<State['Modals']['FileDetailsModal'], {}>\n      coi: Derive<State['Modals']['FileDetailsModal'], {}>\n    }\n    PDFViewerModal: {\n      open: boolean\n      url: string | null\n      headers: {\n        [key: string]: string\n      }\n    }\n  }\n  Pages: {\n    Data: {\n      uploading: {\n        [key: string]: {\n          filename: string\n        }\n      }\n    }\n  }\n}\nexport const state: State = {\n  Modals: {\n    FileDetailsModal: {\n      open: false,\n      documentKey: null,\n      showData: false,\n      audit: ({ documentKey }, state) => {\n        //Get the audit from the doc\n        const audits =\n          documentKey && state.oada.data.documents?.[documentKey]?.audits\n        return audits?.[Object.keys(audits)?.[0]]\n      },\n      'audit-masked': ({ documentKey }, state) => {\n        //Get the audit from the doc\n        const audits =\n          documentKey &&\n          state.oada.data.documents?.[documentKey]?.['audits-masked']\n        return audits?.[Object.keys(audits)?.[0]]\n      },\n      coi: ({ documentKey }, state) => {\n        //Get the cois from the doc\n        const cois =\n          documentKey && state.oada.data.documents?.[documentKey]?.cois\n        return cois?.[Object.keys(cois)?.[0]]\n      }\n    },\n    PDFViewerModal: {\n      open: false,\n      url: null,\n      headers: {}\n    },\n    ValidityModal: {\n      open: true\n    }\n  },\n  Pages: {\n    Data: {\n      uploading: {}\n    }\n  }\n}\n","import uuid from 'uuid/v4'\nimport Promise from 'bluebird'\nimport { AsyncAction, Action } from 'overmind'\n\nconst logout: AsyncAction = async ({ actions }) => {\n  await actions.login.logout()\n  await actions.oada.logout()\n}\nexport const TopBar: { logout: AsyncAction } = {\n  logout\n}\n\nconst viewPDF: Action<string> = ({ state }, documentKey) => {\n  state.view.Modals.PDFViewerModal.headers = {\n    Authorization: 'Bearer ' + state.oada.token\n  }\n  state.view.Modals.PDFViewerModal.url = `${state.oada.url}/bookmarks/trellisfw/documents/${documentKey}/pdf`\n  state.view.Modals.PDFViewerModal.open = true\n}\nconst toggleShowData: Action = ({ state }) => {\n  state.view.Modals.FileDetailsModal.showData = !state.view.Modals\n    .FileDetailsModal.showData\n}\nconst closeDetails: Action = ({ state }) => {\n  //Close my window\n  state.view.Modals.FileDetailsModal.open = false\n}\nconst closePDF: Action = ({ state }) => {\n  //Close my window\n  state.view.Modals.PDFViewerModal.open = false\n}\nconst closeValidity: Action = ({ state }) => {\n  //Close my window\n  state.view.Modals.ValidityModal.open = false\n}\nexport const Modals = {\n  FileDetailsModal: {\n    viewPDF,\n    toggleShowData,\n    close: closeDetails\n  },\n  PDFViewerModal: {\n    close: closePDF\n  },\n  ValidityModal: {\n    close: closeValidity\n  }\n}\n\nconst filesDropped: AsyncAction<File[], any> = ({ state, actions }, files) => {\n  //Start uploading the files\n  return Promise.map(files, file => {\n    //Add an `uploading` file\n    const id = uuid()\n    state.view.Pages.Data.uploading[id] = {\n      filename: file.name\n    }\n    return actions.oada.uploadFile(file).then(() => {\n      delete state.view.Pages.Data.uploading[id]\n    })\n  })\n}\nexport const Pages = {\n  Data: {\n    Dropzone: {\n      filesDropped\n    }\n  }\n}\n","import { Derive } from 'overmind'\nimport { Config } from '../'\n\ntype State = {\n  domain: Derive<Config['state'], string>\n  loggedIn: boolean\n  name: string | null\n  loading: boolean\n  error: string | null\n}\n\nexport const state: State = {\n  domain: (_, state) => state.oada.url,\n  loggedIn: false,\n  name: null,\n  loading: false,\n  error: null\n}\n","import { AsyncAction, Action } from 'overmind'\n\nexport const login: AsyncAction = async ({ state, actions }) => {\n  state.login.loading = true\n  state.oada.url = state.login.domain.match(/^http/)\n    ? state.login.domain\n    : 'https://' + state.login.domain\n  await actions.oada.login()\n  state.login.loading = false\n  if (state.oada.token) {\n    state.login.loggedIn = true\n    const me = await actions.oada.get('/users/me')\n    state.login.name = me && me.data && me.data.username\n    // Keep track of the last-used domain URL\n    // so refresh doesn't set it back to localhost all the time:\n    window.localStorage['oada:domain'] = state.oada.url\n  }\n}\n\nexport const logout: AsyncAction = async ({ state, actions }) => {\n  await actions.oada.logout()\n  state.login.loggedIn = false\n}\n\nexport const domainChange: Action<{ value: string }> = ({ state }, data) => {\n  state.login.domain = data.value\n}\n","import { IConfig } from 'overmind'\nimport { createHook } from 'overmind-react'\nimport { merge, namespaced } from 'overmind/config'\n\nimport { state } from './state'\nimport { onInitialize } from './onInitialize'\nimport * as actions from './actions'\nimport * as oada from './oada'\nimport * as urls from './urls'\nimport * as view from './view'\nimport * as login from './login'\n\nexport const config = merge(\n  {\n    state,\n    onInitialize,\n    actions\n  },\n  namespaced({\n    oada,\n    urls,\n    view,\n    login\n  })\n)\n\nexport type Config = typeof config\n\ndeclare module 'overmind' {\n  interface Config extends IConfig<typeof config> {}\n}\n\nexport default createHook<typeof config>()\n","import { OnInitialize } from 'overmind'\n\nexport const onInitialize: OnInitialize = async ({ state, actions }) => {\n  // Populate skin from localStorage if there is a saved one:\n  if (window.localStorage['skin']) {\n    console.log('Have saved skin in localStorage, using it')\n    state.skin = window.localStorage['skin']\n  }\n  console.log('Using skin ', state.skin)\n\n  // TODO: Does this go here??\n  // log in to domain of mask original?\n  const { host } = new URL(state.mask.original)\n  actions.login.domainChange({ value: host })\n  await actions.login.login()\n\n  // TODO: Does this go here??\n  // fetch original\n  const { data: original } = await actions.oada.get(state.mask.original)\n  state.original = original\n\n  // TODO: Does this go here??\n  // Fetch vdoc\n  try {\n    const { data: vdoc } = await actions.oada.get(\n      `${state.mask.original}/_meta/vdoc/_id`\n    )\n    state.vdoc = vdoc\n\n    const docs = state.oada.data.documents\n    Object.keys(docs).some(id => {\n      if (docs[id]._id === vdoc) {\n        state.view.Modals.FileDetailsModal.documentKey = id\n        return true\n      }\n      return false\n    })\n  } catch {}\n}\n","import React from 'react'\n\n/** @jsx jsx */\nimport { jsx, css } from '@emotion/core'\n\nimport { Dropdown } from 'semantic-ui-react'\nimport overmind from '../../overmind'\n\nconst TopBar: React.FunctionComponent = () => {\n  const { actions, state } = overmind()\n  const skin = state.skin\n\n  return (\n    <div\n      css={css`\n        flex-direction: row;\n        display: flex;\n        justify-content: space-between;\n        align-items: center;\n        background-color: #fff;\n        height: 100px;\n        border-bottom: 1px solid #979797;\n      `}\n    >\n      <img\n        css={css`\n          height: 50px;\n          padding-left: 20px;\n        `}\n        src={'skins/' + skin + '/' + state.skins[skin].logo.src}\n        alt='logo'\n      />\n      <div css={{ marginRight: 50 }}>\n        <Dropdown text={state.login.name || undefined}>\n          <Dropdown.Menu>\n            <Dropdown.Item\n              icon='power'\n              text='Logout'\n              value='logout'\n              onClick={actions.view.TopBar.logout}\n            />\n          </Dropdown.Menu>\n        </Dropdown>\n      </div>\n    </div>\n  )\n}\n\nexport default TopBar\n","import React from 'react'\n\n/** @jsx jsx */\nimport { jsx, css } from '@emotion/core'\n\nimport { Input, Button, Icon } from 'semantic-ui-react'\n\nimport 'semantic-ui-css/semantic.min.css'\n\nfunction TopBar () {\n  return (\n    <div\n      css={css`\n        display: flex;\n        direction: row;\n        justify-content: space-between;\n        align-items: center;\n        padding-top: 15px;\n        padding-left: 20px;\n        padding-right: 20px;\n        padding-bottom: 10px;\n        & .button {\n          background-color: #fff;\n          border: 1px solid #979797;\n          border-radius: 20px;\n          font-size: 14px;\n          .plus.icon:before {\n            color: #0061c0;\n          }\n        }\n      `}\n    >\n      <div css={{ display: 'flex', alignItems: 'center' }}>\n        <div css={{ fontSize: 27, marginRight: 15 }}>{'Data'}</div>\n        <Input\n          type='search'\n          id='user-search'\n          icon='search'\n          iconPosition='left'\n          placeholder='Search...'\n          style={{ borderRadius: 38 }}\n        />\n      </div>\n      <Button icon>\n        <Icon name='plus' />\n        <span\n          css={{\n            marginLeft: 7,\n            marginRight: 4,\n            color: '#0061C0',\n            fontWeight: 100\n          }}\n        >\n          Add\n        </span>\n      </Button>\n    </div>\n  )\n}\n\nexport default TopBar\n","import React from 'react'\n\n/** @jsx jsx */\nimport { jsx, css } from '@emotion/core'\nimport icon from './target_logo.png'\n\nfunction processingIcon (props) {\n  return (\n    <img\n      css={{\n        height: props.height || '40px',\n        marginTop: '3px'\n      }}\n      src={icon}\n    />\n  )\n}\n\nexport default processingIcon\n","import React from 'react'\n\nimport { hashJSON } from '@trellisfw/signatures'\n\nimport overmind from '../overmind'\n\nenum Validity {\n  Invalid = 0,\n  Valid = 1,\n  Unknown\n}\n\ntype Masked = {\n  hash: string\n  link: string\n}\nfunction OADAMask ({ masked }: { masked: Masked }) {\n  const { actions, state } = overmind()\n  const { hash, link } = masked\n\n  // Check that hash matches the original\n  let original = state.urls[link]\n  // TODO: I guess this code shouldn't be in a view?\n  if (!original) {\n    actions.urls.get(link)\n  }\n\n  const valid: Validity = original\n    ? +(hash === hashJSON(original).hash)\n    : Validity.Unknown\n\n  return (\n    <div>\n      {/* TODO: Add mask icon? */}\n      {/* TODO: Show hash in GUI? */}\n      <a\n        style={{ color: valid === Validity.Valid ? 'green' : 'red' }}\n        href={link}\n      >\n        {text(valid)}\n      </a>\n    </div>\n  )\n}\n\nfunction text (valid: Validity): string {\n  switch (valid) {\n    case Validity.Valid:\n      return 'Masked, Valid'\n    case Validity.Invalid:\n      return 'Masked, Invalid'\n    case Validity.Unknown:\n      return 'Masked, Unvalidated'\n  }\n}\n\nexport default OADAMask\n","import React from 'react'\n\n/** @jsx jsx */\nimport { jsx, css } from '@emotion/core'\n\nimport 'react-virtualized/styles.css'\nimport { Column, Table as RTable, AutoSizer } from 'react-virtualized'\nimport overmind from '../../../overmind'\nimport _ from 'lodash'\nimport moment from 'moment'\nimport UploadingIcon from './icons/UploadIcon'\nimport ProcessingIcon from './icons/ProcessingIcon'\nimport SignedIcon from './icons/SignedIcon'\nimport TargetIcon from './icons/TargetIcon'\nimport classnames from 'classnames'\nimport OADAMask from '../../OADAMask'\n\nfunction Table () {\n  const { actions, state } = overmind()\n  const myActions = actions.view.Pages.Data.Table\n  var collection = _.map(\n    _.get(state, 'oada.data.documents'),\n    (document, documentKey) => {\n      //Pull out status from services\n      const tasks = _.get(document, '_meta.services.target.tasks') || {}\n      const fileDetails = {}\n      _.forEach(tasks, task => {\n        const statuses = _.get(task, 'status') || {}\n        const identify = _.find(statuses, { status: 'identified' })\n        if (identify != null) {\n          fileDetails.type = _.get(identify, 'type')\n          fileDetails.format = _.get(identify, 'format')\n          return false\n        } else {\n          const failed = _.find(statuses, { status: 'error' })\n          if (failed != null) {\n            fileDetails.type = 'Unknown'\n            fileDetails.format = 'Unknown'\n            return false\n          }\n        }\n      })\n      // Check if Target service exists and is handling this document:\n      const processingService = _.keys(tasks).length > 0 ? 'target' : false\n\n      //Pull out share status\n      // Aaron changed this to stay bold unless ALL share tasks are approved.\n      const shared = _.chain(document)\n        .get('_meta.services.approval.tasks')\n        .every(t => t.status === 'approved')\n        .value()\n\n      //Pull out signature from audit\n      var signatures =\n        _.chain(document)\n          .get('audits')\n          .values()\n          .get(0)\n          .get('signatures')\n          .value() || []\n      if (signatures.length === 0)\n        signatures =\n          _.chain(document)\n            .get('audits-masked')\n            .values()\n            .get(0)\n            .get('signatures')\n            .value() || []\n      if (signatures.length === 0)\n        signatures =\n          _.chain(document)\n            .get('cois')\n            .values()\n            .get(0)\n            .get('signatures')\n            .value() || []\n\n      // Get masked location\n      const masked = _.chain(document)\n        .get('audits-masked')\n        .values()\n        .get(0)\n        .get('organization')\n        .get('location')\n        .value()\n      return {\n        documentKey: documentKey,\n        filename: _.get(document, 'pdf._meta.filename') || '',\n        type: fileDetails.type,\n        status: fileDetails.type === null ? 'processing' : null,\n        format: fileDetails.format,\n        createdAt: moment\n          .utc(_.get(document, '_meta.stats.created'), 'X')\n          .local()\n          .format('M/DD/YYYY h:mm a'),\n        createdAtUnix: _.get(document, '_meta.stats.created'),\n        signed: signatures.length > 0 ? true : false,\n        masked: masked,\n        shared: shared,\n        processingService\n      }\n    }\n  )\n  //Sort collection\n  collection = _.orderBy(collection, ['createdAtUnix'], ['desc'])\n  _.forEach(_.get(state, 'view.Pages.Data.uploading'), file => {\n    collection.unshift({\n      filename: file.filename,\n      status: 'uploading'\n    })\n  })\n  return (\n    <AutoSizer>\n      {({ height, width }) => (\n        <RTable\n          css={css`\n            & .ReactVirtualized__Table__headerRow.odd {\n              background: rgb(0, 106, 211);\n              background: linear-gradient(\n                180deg,\n                rgba(0, 106, 211, 1) 0%,\n                rgba(0, 84, 166, 1) 100%\n              );\n            }\n            & .header > span {\n              color: #fff;\n              text-transform: none;\n            }\n            & .row {\n              cursor: pointer;\n            }\n            & .odd {\n              background-color: #efefef;\n            }\n            & .row:hover {\n              background-color: #9accfd;\n            }\n            & .row .signature {\n              display: flex;\n              flex: 1;\n              justify-content: flex-end;\n            }\n            & .row.unshared {\n              font-weight: bold;\n            }\n          `}\n          headerClassName={'header'}\n          headerHeight={40}\n          height={height}\n          rowCount={collection.length}\n          rowGetter={({ index }) => collection[index]}\n          rowClassName={({ index }) => {\n            var className = null\n            if (index % 2 === 0) {\n              className = 'row even'\n            } else {\n              className = 'row odd'\n            }\n            if (collection[index] && !collection[index].shared)\n              className = classnames(className, 'unshared')\n            return className\n          }}\n          rowHeight={30}\n          width={width}\n          onRowClick={myActions.onRowClick}\n        >\n          <Column\n            label=''\n            dataKey='processingService'\n            width={40}\n            cellRenderer={({ rowData }) =>\n              !rowData || rowData.processingService !== 'target' ? (\n                ''\n              ) : (\n                <TargetIcon />\n              )\n            }\n          />\n\n          <Column label='Name' dataKey='filename' width={200} />\n          <Column\n            width={200}\n            label='Type'\n            dataKey='type'\n            cellRenderer={({ rowData }) => {\n              if (rowData.type) {\n                return <div>{rowData.type}</div>\n              } else if (rowData.status === 'processing') {\n                return (\n                  <div css={{ display: 'flex', alignItems: 'center' }}>\n                    <ProcessingIcon />\n                    <div css={{ marginLeft: 3 }}>{'Processing...'}</div>\n                  </div>\n                )\n              } else if (rowData.status === 'uploading') {\n                return (\n                  <div css={{ display: 'flex', alignItems: 'center' }}>\n                    <UploadingIcon />\n                    <div css={{ marginLeft: 3 }}>{'Uploading...'}</div>\n                  </div>\n                )\n              } else {\n                return <div>{'Unknown'}</div>\n              }\n            }}\n          />\n          <Column width={140} label='Added' dataKey='createdAt' />\n          <Column\n            dataKey='name'\n            className='signature'\n            width={width - 600}\n            cellRenderer={({ rowData }) => {\n              if (!rowData.signed) return null\n              return (\n                <div css={{ display: 'flex', alignItems: 'center' }}>\n                  <SignedIcon />\n                  <div css={{ marginLeft: 3, color: '#02A12B' }}>\n                    {'Signed'}\n                  </div>\n                </div>\n              )\n            }}\n          />\n          <Column\n            dataKey='masked'\n            className='masked'\n            width={width - 600}\n            cellRenderer={({ rowData }) => {\n              if (!rowData.masked) return null\n              return (\n                <div css={{ display: 'flex', alignItems: 'center' }}>\n                  <OADAMask masked={rowData.masked} />\n                </div>\n              )\n            }}\n          />\n        </RTable>\n      )}\n    </AutoSizer>\n  )\n}\n\nexport default Table\n","import React, { useCallback } from 'react'\n\n/** @jsx jsx */\nimport { jsx, css } from '@emotion/core'\n\nimport { useDropzone } from 'react-dropzone'\nimport overmind from '../../../overmind'\n\nfunction Dropzone (props) {\n  const { actions } = overmind()\n  const myActions = actions.view.Pages.Data.Dropzone\n  const onDrop = useCallback(acceptedFiles => {\n    if (myActions.filesDropped) myActions.filesDropped(acceptedFiles)\n  }, [])\n  const { getRootProps, getInputProps, isDragActive, open } = useDropzone({\n    onDrop,\n    noClick: true\n  })\n  return (\n    <div css={{ flex: 1, display: 'flex' }} {...getRootProps()}>\n      {props.children}\n      {<input id='user-search-2' {...getInputProps()} />}\n    </div>\n  )\n}\n\nexport default Dropzone\n","import React from 'react'\n\n/** @jsx jsx */\nimport { jsx, css } from '@emotion/core'\n\nimport overmind from '../../../overmind'\nimport _ from 'lodash'\nimport moment from 'moment'\n\nfunction Audit (props) {\n  const { audit } = props\n\n  let validity = null\n  if (\n    audit.certificate_validity_period &&\n    audit.certificate_validity_period.start &&\n    audit.certificate_validity_period.end\n  ) {\n    validity = {\n      start: moment(audit.certificate_validity_period.start, 'M/D/YYYY'),\n      end: moment(audit.certificate_validity_period.end, 'M/D/YYYY')\n    }\n    if (!validity.start || !validity.start.isValid()) validity = null\n    if (!validity.end || !validity.end.isValid()) validity = null\n    const now = moment()\n    // If it starts after today, or ended before today, it's expired\n    validity.expired = validity.start.isAfter(now) || validity.end.isBefore(now)\n  }\n  const org = (audit.organization && audit.organization.name) || null\n\n  let r = 0 // track which row we're on\n  const rowstyles = [\n    { backgroundColor: '#FFFFFF' }, // even rows\n    { backgroundColor: '#EEEEEE' } // odd rows\n  ]\n  const labelstyle = { fontWeight: 'bold', padding: '15px' }\n  const contentstyle = { padding: '15px' }\n  return (\n    <table style={{ fontSize: '1.2em' }}>\n      <tbody>\n        {/* Row 1: Organization or Holder */}\n        {!org ? (\n          ''\n        ) : (\n          <tr style={rowstyles[r++ % 2]}>\n            <td align='right' style={labelstyle}>\n              Organization:\n            </td>\n            <td style={contentstyle}>{org}</td>\n          </tr>\n        )}\n\n        {/* Row 2: Score */}\n        {!(audit.score && audit.score.final) ? (\n          ''\n        ) : (\n          <tr style={rowstyles[r++ % 2]}>\n            <td align='right' style={labelstyle}>\n              Score:\n            </td>\n            <td style={contentstyle}>\n              {audit.score.final.value}\n              &nbsp;\n              {!audit.score.rating ? (\n                ''\n              ) : (\n                <span\n                  style={{\n                    color: audit.score.rating.match(/(good|excellent)/i)\n                      ? 'green'\n                      : 'red'\n                  }}\n                >\n                  ({audit.score.rating.trim()})\n                </span>\n              )}\n            </td>\n          </tr>\n        )}\n\n        {/* Row 3: Scope */}\n        {!(audit.scope && audit.scope.products_observed) ? (\n          ''\n        ) : (\n          <tr style={rowstyles[r++ % 2]}>\n            <td align='right' style={labelstyle}>\n              Scope (Products):\n            </td>\n            <td style={contentstyle}>\n              {_.map(audit.scope.products_observed, (p, idx) => (\n                <span\n                  key={'product' + idx}\n                  style={{\n                    border: 'solid #AAAAAA 1px',\n                    borderRadius: '3px',\n                    paddingLeft: '3px',\n                    paddingRight: '3px',\n                    marginLeft: '3px',\n                    marginRight: '3px'\n                  }}\n                >\n                  {p.name}\n                </span>\n              ))}\n            </td>\n          </tr>\n        )}\n\n        {/* Row 4: Validity */}\n        {!validity ? (\n          ''\n        ) : (\n          <tr style={rowstyles[r++ % 2]}>\n            <td align='right' style={labelstyle}>\n              Validity:\n            </td>\n            <td style={contentstyle}>\n              {validity.expired ? (\n                <span style={{ color: 'red' }}>EXPIRED!</span>\n              ) : (\n                <span style={{ color: 'green' }}>VALID</span>\n              )}\n              &nbsp;(from {validity.start.format('MMM d, YYYY')} to{' '}\n              {validity.end.format('MMM d, YYYY')})\n            </td>\n          </tr>\n        )}\n      </tbody>\n    </table>\n  )\n}\n\nexport default Audit\n","import React from 'react'\n\n/** @jsx jsx */\nimport { jsx, css } from '@emotion/core'\n\nimport OADAMask from '../../OADAMask'\n\nimport overmind from '../../../overmind'\nimport _ from 'lodash'\nimport moment from 'moment'\n\nfunction Audit (props) {\n  const { audit } = props\n\n  let validity = null\n  if (\n    audit.certificate_validity_period &&\n    audit.certificate_validity_period.start &&\n    audit.certificate_validity_period.end\n  ) {\n    validity = {\n      start: moment(audit.certificate_validity_period.start, 'M/D/YYYY'),\n      end: moment(audit.certificate_validity_period.end, 'M/D/YYYY')\n    }\n    if (!validity.start || !validity.start.isValid()) validity = null\n    if (!validity.end || !validity.end.isValid()) validity = null\n    const now = moment()\n    // If it starts after today, or ended before today, it's expired\n    validity.expired = validity.start.isAfter(now) || validity.end.isBefore(now)\n  }\n  const org = (audit.organization && audit.organization.name) || null\n\n  let r = 0 // track which row we're on\n  const rowstyles = [\n    { backgroundColor: '#FFFFFF' }, // even rows\n    { backgroundColor: '#EEEEEE' } // odd rows\n  ]\n  const labelstyle = { fontWeight: 'bold', padding: '15px' }\n  const contentstyle = { padding: '15px' }\n  return (\n    <table style={{ fontSize: '1.2em' }}>\n      <tbody>\n        {/* Row 1: Organization or Holder */}\n        {!org ? (\n          ''\n        ) : (\n          <tr style={rowstyles[r++ % 2]}>\n            <td align='right' style={labelstyle}>\n              Organization:\n            </td>\n            <td style={contentstyle}>{org}</td>\n          </tr>\n        )}\n\n        {/* Row 2: Score */}\n        {!(audit.score && audit.score.final) ? (\n          ''\n        ) : (\n          <tr style={rowstyles[r++ % 2]}>\n            <td align='right' style={labelstyle}>\n              Score:\n            </td>\n            <td style={contentstyle}>\n              {audit.score.final.value}\n              &nbsp;\n              {!audit.score.rating ? (\n                ''\n              ) : (\n                <span\n                  style={{\n                    color: audit.score.rating.match(/(good|excellent)/i)\n                      ? 'green'\n                      : 'red'\n                  }}\n                >\n                  ({audit.score.rating.trim()})\n                </span>\n              )}\n            </td>\n          </tr>\n        )}\n\n        {/* Row 3: Scope */}\n        {!(audit.scope && audit.scope.products_observed) ? (\n          ''\n        ) : (\n          <tr style={rowstyles[r++ % 2]}>\n            <td align='right' style={labelstyle}>\n              Scope (Products):\n            </td>\n            <td style={contentstyle}>\n              {_.map(audit.scope.products_observed, (p, idx) => (\n                <span\n                  key={'product' + idx}\n                  style={{\n                    border: 'solid #AAAAAA 1px',\n                    borderRadius: '3px',\n                    paddingLeft: '3px',\n                    paddingRight: '3px',\n                    marginLeft: '3px',\n                    marginRight: '3px'\n                  }}\n                >\n                  {p.name}\n                </span>\n              ))}\n            </td>\n          </tr>\n        )}\n\n        {/* Row 4: Location */}\n        {!(audit.organization && audit.organization.location) ? (\n          ''\n        ) : (\n          <tr style={rowstyles[r++ % 2]}>\n            <td align='right' style={labelstyle}>\n              Location:\n            </td>\n            <td style={contentstyle}>\n              <OADAMask masked={audit.organization.location} orig={audit} />\n            </td>\n          </tr>\n        )}\n\n        {/* Row 5: Validity */}\n        {!validity ? (\n          ''\n        ) : (\n          <tr style={rowstyles[r++ % 2]}>\n            <td align='right' style={labelstyle}>\n              Validity:\n            </td>\n            <td style={contentstyle}>\n              {validity.expired ? (\n                <span style={{ color: 'red' }}>EXPIRED!</span>\n              ) : (\n                <span style={{ color: 'green' }}>VALID</span>\n              )}\n              &nbsp;(from {validity.start.format('MMM d, YYYY')} to{' '}\n              {validity.end.format('MMM d, YYYY')})\n            </td>\n          </tr>\n        )}\n      </tbody>\n    </table>\n  )\n}\n\nexport default Audit\n","import React from 'react'\n\n/** @jsx jsx */\nimport { jsx, css } from '@emotion/core'\n\nimport overmind from '../../../overmind'\nimport _ from 'lodash'\nimport moment from 'moment'\n\nfunction CoI (props) {\n  const { coi } = props\n\n  const holder = (coi.holder && coi.holder.name) || null\n  let policies = coi.policies || null // COI has policies\n  // Filter policies whose dates we can't parse\n  policies =\n    policies &&\n    _.filter(policies, p => {\n      p.start = moment(p.effective_date)\n      p.end = moment(p.expire_date)\n      if (!p.start.isValid()) return false\n      if (!p.end.isValid()) return false\n      const now = moment()\n      p.expired = p.start.isAfter(now) || p.end.isBefore(now)\n      return true // keep this one in the list\n    })\n  let r = 0 // keep track of which row we're on\n  const rowstyles = [\n    { backgroundColor: '#FFFFFF' }, // even rows\n    { backgroundColor: '#EEEEEE' } // odd rows\n  ]\n  const labelstyle = { fontWeight: 'bold', padding: '15px' }\n  const contentstyle = { padding: '15px' }\n  return (\n    <table style={{ fontSize: '1.2em' }}>\n      <tbody>\n        {/* Row 1: Holder */}\n        {!holder ? (\n          ''\n        ) : (\n          <tr style={rowstyles[r++ % 2]}>\n            <td align='right' style={labelstyle}>\n              Holder:\n            </td>\n            <td style={contentstyle}>{holder}</td>\n          </tr>\n        )}\n\n        {/* Row 2: Policies */}\n        {!policies ? (\n          ''\n        ) : (\n          <tr style={rowstyles[r++ % 2]}>\n            <td align='right' style={labelstyle}>\n              Policies:\n            </td>\n            <td style={contentstyle}>\n              <table>\n                <tbody>\n                  {_.map(policies, (p, idx) => (\n                    <tr\n                      key={'policy' + idx}\n                      style={{ color: p.expired ? 'red' : 'green' }}\n                    >\n                      <td align='right'>{p.number}:</td>\n                      <td>\n                        {p.expired ? 'EXPIRED!' : 'VALID'}\n                        &nbsp;(from {p.start.format('MMM d, YYYY')} to{' '}\n                        {p.end.format('MMM d, YYYY')})\n                      </td>\n                    </tr>\n                  ))}\n                </tbody>\n              </table>\n            </td>\n          </tr>\n        )}\n      </tbody>\n    </table>\n  )\n}\n\nexport default CoI\n","import React from 'react'\n\n/** @jsx jsx */\nimport { jsx, css } from '@emotion/core'\n\nimport overmind from '../../../overmind'\nimport _ from 'lodash'\nimport ReactJson from 'react-json-view'\nimport Audit from './Audit'\nimport MaskedAudit from './MaskedAudit'\nimport CoI from './CoI'\n\nfunction Content () {\n  const { actions, state } = overmind()\n  const myActions = actions.view.Modals.FileDetailsModal\n  const myState = state.view.Modals.FileDetailsModal\n\n  var jsonData: { [key: string]: any } | null = null\n  var jsonTitle = ''\n  if (_.isEmpty(myState.audit) === false) {\n    jsonData = _.get(myState, 'audit')\n    jsonTitle = 'audit'\n  } else if (_.isEmpty(myState['audit-masked']) === false) {\n    jsonData = _.get(myState, 'audit-masked')\n    jsonTitle = 'masked-audit'\n  } else if (_.isEmpty(myState.coi) === false) {\n    jsonData = _.get(myState, 'coi')\n    jsonTitle = 'coi'\n  }\n  if (jsonData) {\n    jsonData = _.cloneDeep(jsonData)\n    if (jsonData._id) delete jsonData._id\n    if (jsonData._rev) delete jsonData._rev\n    if (jsonData._type) delete jsonData._type\n    if (jsonData._meta) delete jsonData._meta\n  }\n\n  return (\n    <div>\n      {jsonTitle === 'audit' ? (\n        <Audit audit={jsonData} />\n      ) : jsonTitle === 'masked-audit' ? (\n        <MaskedAudit audit={jsonData} />\n      ) : jsonTitle === 'coi' ? (\n        <CoI coi={jsonData} />\n      ) : (\n        <span>Unknown Document Type</span>\n      )}\n\n      {!myState.showData ? (\n        ''\n      ) : jsonData === null ? (\n        <span>&lt; No Data &gt;</span>\n      ) : (\n        <ReactJson\n          src={jsonData}\n          name={jsonTitle}\n          collapsed={1}\n          collapseStringsAfterLength={50}\n          displayDataTypes={false}\n          displayObjectSize={false}\n          enableClipboard={false}\n        />\n      )}\n\n      <div\n        css={css`\n          color: #2439ff;\n          font-size: 16;\n          margin-bottom: 7;\n          display: flex;\n          justify-content: center;\n        `}\n      >\n        <div\n          css={css`\n            cursor: pointer;\n          `}\n          onClick={() => myActions.viewPDF(myState.documentKey || '')}\n        >\n          {'VIEW PDF'}\n        </div>\n        &nbsp;&nbsp;|&nbsp;&nbsp;\n        <div\n          css={css`\n            cursor: pointer;\n          `}\n          onClick={() => myActions.toggleShowData()}\n        >\n          {'VIEW DATA'}\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default Content\n","import React from 'react'\n\n/** @jsx jsx */\nimport { jsx, css } from '@emotion/core'\n\nimport TopBar from './TopBar'\nimport Table from './Table'\nimport Dropzone from './Dropzone'\nimport FileDetails from '../../Modals/FileDetailsModal/Content'\n\nfunction Data () {\n  return (\n    <div\n      css={css`\n        flex: 1;\n        display: flex;\n        flex-direction: column;\n      `}\n    >\n      <div\n        css={css`\n          height: 1px;\n          background: #979797;\n          margin-left: 20px;\n          margin-right: 20px;\n        `}\n      />\n      <div css={{ flex: 1, padding: 30, paddingTop: 15, display: 'flex' }}>\n        <div css={{ border: '1px solid #979797', flex: 1, display: 'flex' }}>\n          <Dropzone>\n            <div\n              css={{\n                minHeight: 350,\n                display: 'flex',\n                //flexDirection: 'column',\n                justifyContent: 'space-between'\n              }}\n            >\n              <FileDetails />\n            </div>\n          </Dropzone>\n        </div>\n      </div>\n    </div>\n  )\n}\n\nexport default Data\n","import React from 'react'\n\n/** @jsx jsx */\nimport { css, jsx } from '@emotion/core'\nimport Data from './Data'\n\nfunction Pages () {\n  return (\n    <div\n      css={css`\n        display: flex;\n        flex: 1;\n        box-shadow: inset 5px 5px 5px #dddddd;\n      `}\n    >\n      <Data />\n    </div>\n  )\n}\n\nexport default Pages\n","import React from 'react'\n\n/** @jsx jsx */\nimport { jsx, css } from '@emotion/core'\n\nimport { Document, Page } from 'react-pdf'\n\nimport overmind from '../../../overmind'\nimport _ from 'lodash'\nimport { Modal } from 'semantic-ui-react'\n\nfunction PDFViewerModal (props) {\n  const { actions, state } = overmind()\n  const myActions = actions.view.Modals.PDFViewerModal\n  const myState = state.view.Modals.PDFViewerModal\n  return (\n    <Modal open={myState.open} onClose={myActions.close}>\n      <Modal.Content>\n        <div\n          css={css`\n            min-height: 350px;\n            & .pdfPage {\n              display: flex;\n              justify-content: center;\n            }\n          `}\n        >\n          <Document\n            file={{\n              url: myState.url,\n              httpHeaders: myState.headers\n            }}\n            onLoadSuccess={({ numPages }) => {}}\n          >\n            <Page className={'pdfPage'} pageNumber={1} />\n          </Document>\n        </div>\n      </Modal.Content>\n    </Modal>\n  )\n}\n\nexport default PDFViewerModal\n","import React from 'react'\n\n/** @jsx jsx */\nimport { jsx, css } from '@emotion/core'\nimport _ from 'lodash'\nimport overmind from '../overmind'\nimport { Input, Button, Form, Dropdown } from 'semantic-ui-react'\nimport 'semantic-ui-css/semantic.min.css'\n\nfunction Login () {\n  const { state, actions } = overmind()\n  const appState = state\n  const myActions = actions.login\n\n  const bg = appState.skins[appState.skin].loginBackground\n  const logo = appState.skins[appState.skin].logo\n  return (\n    <div\n      css={css`\n        height: 100vh;\n        width: 100vw;\n        display: flex;\n        flex-direction: column;\n        justify-content: center;\n        align-items: center;\n        background: url(skins/${appState.skin}/${bg}) no-repeat center center\n          fixed;\n        background-size: cover;\n      `}\n    >\n      <div\n        css={css`\n          width: 250px;\n          display: flex;\n          flex-direction: column;\n        `}\n      >\n        <img\n          css={{\n            height: logo.height,\n            marginBottom: 25\n          }}\n          src={`skins/${appState.skin}/${logo.src}`}\n          alt='logo'\n        />\n        <Form\n          css={css`\n            display: flex;\n            flex-direction: column;\n          `}\n          onSubmit={myActions.login}\n        >\n          <Input\n            placeholder='Trellis Domain...'\n            value={state.login.domain}\n            onChange={(_, data) => myActions.domainChange(data)}\n          />\n          <Button\n            style={{ marginTop: 7 }}\n            primary\n            loading={state.login.loading}\n            disabled={state.login.loading}\n          >\n            Connect to Your Trellis\n          </Button>\n        </Form>\n      </div>\n      <a\n        css={css`\n          position: absolute;\n          top: 10px;\n          right: 10px;\n          font-size: 1.2em;\n          color: #ffffff;\n          cursor: pointer;\n        `}\n        onClick={myActions.logout}\n      >\n        Logout\n      </a>\n\n      <div\n        css={css`\n          position: absolute;\n          top: 5px;\n          left: 5px;\n        `}\n      >\n        <Dropdown\n          icon={{ name: 'bars', inverted: true, size: 'large' }}\n          text=''\n        >\n          <Dropdown.Menu>\n            {_.map(_.keys(appState.skins), (s, i) => (\n              <Dropdown.Item\n                key={'skindropdownitem' + i}\n                text={s}\n                value={s}\n                onClick={() => actions.skinChange(s)}\n              />\n            ))}\n          </Dropdown.Menu>\n        </Dropdown>\n      </div>\n    </div>\n  )\n}\n\nexport default Login\n","import React from 'react'\nimport { Modal, Header } from 'semantic-ui-react'\nimport VerifiedUserIcon from '@material-ui/icons/VerifiedUser'\nimport HighlightOffIcon from '@material-ui/icons/HighlightOff'\n\n/** @jsx jsx */\nimport { jsx, css } from '@emotion/core'\n\nimport overmind from '../../overmind'\nimport { Validity } from '../../overmind/state'\n\nfunction text (valid: Validity): string {\n  switch (valid) {\n    case Validity.Valid:\n      return 'Valid'\n    case Validity.Invalid:\n      return 'Invalid'\n    case Validity.Unknown:\n      return 'Could not verify'\n  }\n}\nfunction color (valid: Validity): string {\n  switch (valid) {\n    case Validity.Valid:\n      return 'green'\n    case Validity.Invalid:\n      return 'red'\n    case Validity.Unknown:\n      return 'gray'\n  }\n}\nfunction icon (valid: Validity) {\n  switch (valid) {\n    case Validity.Valid:\n      return VerifiedUserIcon\n    case Validity.Invalid:\n      return HighlightOffIcon\n    case Validity.Unknown:\n      return HighlightOffIcon\n  }\n}\nconst ValidityModal: React.FunctionComponent = () => {\n  const { actions, state } = overmind()\n  const myActions = actions.view.Modals.ValidityModal\n  const myState = state.view.Modals.ValidityModal\n\n  const ValidityIcon = icon(state.valid)\n  return (\n    <Modal open={myState.open} onClose={myActions.close}>\n      <Header>\n        <ValidityIcon\n          css={css`\n            color: ${color(state.valid)};\n          `}\n        />{' '}\n        Trellis Mask Check\n      </Header>\n      <Modal.Content>\n        <div\n          css={css`\n            min-height: 350;\n            display: flex;\n            flex-direction: column;\n            justify-content: space-between;\n            color: ${color(state.valid)};\n          `}\n        >\n          {text(state.valid)}\n        </div>\n      </Modal.Content>\n    </Modal>\n  )\n}\n\nexport default ValidityModal\n","import React from 'react'\n\n/** @jsx jsx */\nimport { jsx, css } from '@emotion/core'\n\nimport overmind from './overmind'\n\nimport TopBar from './view/TopBar'\nimport Pages from './view/Pages'\nimport PDFViewerModal from './view/Modals/PDFViewerModal'\nimport Login from './Login'\nimport ValidityModal from './view/Modals/ValidityModal'\n\nconst App: React.FunctionComponent = () => {\n  const { state } = overmind()\n\n  return state.login.loggedIn ? (\n    <div\n      css={css`\n        height: 100vh;\n        width: 100vw;\n        display: flex;\n        flex-direction: column;\n        justify-content: stretch;\n      `}\n    >\n      <TopBar />\n      <div\n        css={css`\n          flex: 1;\n          display: flex;\n          flex-direction: row;\n          align-items: stretch;\n        `}\n      >\n        <Pages />\n        <PDFViewerModal />\n        <ValidityModal />\n      </div>\n    </div>\n  ) : (\n    <Login />\n  )\n}\n\nexport default App\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n)\n\nexport function register (config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href)\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config)\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          )\n        })\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config)\n      }\n    })\n  }\n}\n\nfunction registerValidSW (swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing\n        if (installingWorker === null) {\n          return\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              )\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration)\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.')\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration)\n              }\n            }\n          }\n        }\n      }\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error)\n    })\n}\n\nfunction checkValidServiceWorker (swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type')\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload()\n          })\n        })\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config)\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      )\n    })\n}\n\nexport function unregister () {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister()\n    })\n  }\n}\n","import React from 'react'\nimport ReactDOM from 'react-dom'\n\nimport { createOvermind } from 'overmind'\nimport { Provider } from 'overmind-react'\nimport { config } from './overmind'\n\nimport './index.css'\nimport App from './App'\nimport * as serviceWorker from './serviceWorker'\n\nconst app = createOvermind(config, {\n  devtools: true\n})\n\nReactDOM.render(\n  <Provider value={app}>\n    <App />\n  </Provider>,\n  document.getElementById('root')\n)\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister()\n","module.exports =\n  'eyJhbGciOiJSUzI1NiIsInR5cCI6IkpXVCIsImtpZCI6ImRldjEiLCJqd2siOnsia3R5IjoiUlNBIiwibiI6InJyMzhpSzhGaTBfLUNSTFR2Vks0SUlDbGFyaWk2d1ZIcEU3elpQWG9FUmxfT29oNjRZbWJRY1JhNWVGdzBVUWhVdkVDaEt1OU5vM2ptN0xXOVpjTDFIS3Joa1VXLU9Rb2JPWFVuckNnb0NwYThWWWhfd1JJZFFZYnN2UFFWajVOR3V1TlhhWkJfX3B4Rnktbl9PMklNUzhPR3Jlem0zYlFIREFmLWpuZ0loWkdaZ0xhdkxKeVNIVXlEUUw0RmJRNkQzUXozQU1PcnhGdmE0S0JJUENRS0ZPbVlYVm40enRnVDY4aGd5TW9jMUt5dHhvUmd6VkhuQ2RUcFBXV1Zybk1GY0plZFlELUxtazBYbzVyallPeG1xOEExZWpmeFBNZVJfM1Y3OEFKazJMREk0dkdhSjNmbmFQWlM3Q3ZXOEYzcFdXaWpfQnlWR0NJLTVCcmtxSF9uUSIsImUiOiJBUUFCIn19.eyJyZWRpcmVjdF91cmlzIjpbImh0dHA6Ly9sb2NhbGhvc3Q6MzAwMC9vYXV0aDIvcmVkaXJlY3QuaHRtbCIsImh0dHBzOi8vdHJlbGxpc2Z3LmdpdGh1Yi5pby9jb25kdWN0b3Ivb2F1dGgyL3JlZGlyZWN0Lmh0bWwiXSwidG9rZW5fZW5kcG9pbnRfYXV0aF9tZXRob2QiOiJ1cm46aWV0ZjpwYXJhbXM6b2F1dGg6Y2xpZW50LWFzc2VydGlvbi10eXBlOmp3dC1iZWFyZXIiLCJncmFudF90eXBlcyI6WyJhdXRob3JpemF0aW9uX2NvZGUiXSwicmVzcG9uc2VfdHlwZXMiOlsidG9rZW4iLCJjb2RlIiwiaWRfdG9rZW4iLCJpZF90b2tlbiB0b2tlbiIsImNvZGUgaWRfdG9rZW4iLCJjb2RlIHRva2VuIiwiY29kZSBpZF90b2tlbiB0b2tlbiJdLCJjbGllbnRfbmFtZSI6IlRyZWxsaXMgLSBPcGVuIFNvdXJjZSIsImNsaWVudF91cmkiOiJodHRwczovL2dpdGh1Yi5jb20vdHJlbGxpc2Z3IiwiY29udGFjdHMiOlsiQWFyb24gQXVsdCA8YXVsdGFjQHB1cmR1ZS5lZHU-Il0sImp3a3MiOnsia2V5cyI6W3sia3R5IjoiUlNBIiwibiI6InZ3dzFLcjNIVTk1MHBKTDhOeXh0MVZZN0ZIZTN6eHpSZ1VrZE1udDNCUzZGZ3h5cHZXR29YTWE5UFpYUHcxX3hiUVc1cFdJVU91ZG1Kek1MRnRZMzlrUVFiSW9WdDF1WV9JdEI0NmdrNTIzS0FRVktiQzQtVFgyT25WSGRJLWswY1FlTmZIakl0c0RjZE4tUFhKVlMtNzBEMFlhMEQzV3lpVEhPaHNkWXpXQm1iYUVwbDVEbkRrY0dCbjA4RXBMdzFlWWE4ejlxSHRlNE1Wc01jczJpdjdmeDZ0TTJmbVBlNFB5WUF4ZVJYU0RTMVdKcndReUs5SnJHMVBfQVF1X0xFQ2V6aUp0ZVk2RVZ1aVczbGI1WDhZOW9xM3FwNWV4SkNWWVJ2c3NRVXc1Ti1XdjhENUlpeTdBNmJMLUhKUDFfOWJ5OThSWTh4LVhiSzR6X0VMUjNNUSIsImUiOiJBUUFCIiwia2lkIjoiOTRhYWJiM2FhMTkxNGVjOGE4Y2RhNDU1YTQ3M2NmMGQifV19LCJpYXQiOjE1ODI2OTM5OTR9.NWYV4bi4FAFS6xchooCuZ8yxcVAYeGsZ7Bx5gHnN42-uFLLdbexhYw9f6BMTzES1TAxlKokJxxrFV5mYEMaiJrxS5BbIhz_QOw3i4kNiveLEhq7ljLe-7ivosrHEKgAtWEIFLuqfMX5_f3Nojc3HoN5Ze_oP6FoV7-4Lt2-i3yeaHR_d6u1EzrUWX8TFfqUv7Yu4mSrSLgwOIeUoT8drmBmcZCHPS3RykhWgAq4SUXyXetNx-u_SbP3R8VPk3bJXtVH6q7qzA9kQu0Jy-Gl6ah2ZqH8g2QSUY9rQSa7cGSEBOgFhtjZF9TR4tJ34RYR6vELtcgyG8DGODX5VySpr4Q'\n","module.exports = {\n  redirect_uris: [\n    'http://localhost:3000/oauth2/redirect.html',\n    'https://trellisfw.github.io/conductor/oauth2/redirect.html'\n  ],\n  token_endpoint_auth_method:\n    'urn:ietf:params:oauth:client-assertion-type:jwt-bearer',\n  grant_types: ['authorization_code'],\n  response_types: [\n    'token',\n    'code',\n    'id_token',\n    'id_token token',\n    'code id_token',\n    'code token',\n    'code id_token token'\n  ],\n  client_name: 'Trellis - Open Source',\n  client_uri: 'https://github.com/trellisfw',\n  contacts: ['Aaron Ault <aultac@purdue.edu>'],\n  // THERE IS NOTHING PRIVATE ABOUT THIS DEV CERT: IT IS IN GITHUB.  OVERRIDE WITH YOUR OWN FOR PRODUCTION\n  jwks: {\n    keys: [\n      {\n        kty: 'RSA',\n        n:\n          'vww1Kr3HU950pJL8Nyxt1VY7FHe3zxzRgUkdMnt3BS6FgxypvWGoXMa9PZXPw1_xbQW5pWIUOudmJzMLFtY39kQQbIoVt1uY_ItB46gk523KAQVKbC4-TX2OnVHdI-k0cQeNfHjItsDcdN-PXJVS-70D0Ya0D3WyiTHOhsdYzWBmbaEpl5DnDkcGBn08EpLw1eYa8z9qHte4MVsMcs2iv7fx6tM2fmPe4PyYAxeRXSDS1WJrwQyK9JrG1P_AQu_LECeziJteY6EVuiW3lb5X8Y9oq3qp5exJCVYRvssQUw5N-Wv8D5Iiy7A6bL-HJP1_9by98RY8x-XbK4z_ELR3MQ',\n        e: 'AQAB',\n        kid: '94aabb3aa1914ec8a8cda455a473cf0d'\n      }\n    ]\n  }\n}\n","module.exports = __webpack_public_path__ + \"static/media/upload.0c074248.svg\";","module.exports = __webpack_public_path__ + \"static/media/processing.a0fb5f7a.svg\";","module.exports = __webpack_public_path__ + \"static/media/signed.32666418.svg\";","module.exports = \"data:image/png;base64,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\"","var map = {\n\t\"./default/config\": 673\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error(\"Cannot find module '\" + req + \"'\");\n\t\te.code = 'MODULE_NOT_FOUND';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 672;","module.exports = {\n  logo: {\n    src: 'logo.png',\n    height: 60\n  },\n  loginBackground: 'login-background.jpg'\n}\n"],"sourceRoot":""}